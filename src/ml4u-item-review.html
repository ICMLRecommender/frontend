<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-input/paper-textarea.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="ml4u-item-stars.html">

<dom-module id="ml4u-item-review">

<style is="custom-style">
paper-card.rate { @apply(--layout-horizontal); }

:host {
  padding: 0 0 !important;
  z-index: 10;
}

.rate-content {
  @apply(--layout-flex);
  float: left;
}

.rate-header { @apply(--paper-font-headline); }
.rate-name { color: var(--paper-grey-600); margin: 10px 0; }

paper-icon-button.rate-icon {
  --iron-icon-fill-color: white;
  --iron-icon-stroke-color: var(--paper-grey-600);
}

.reviewCloseButton {
  position:absolute;
  right:0px;
  top: 0px;
}

section.reviewHeader {
  background-color: #9575cd;
  padding: 5px;
}

h1 {
  margin: 0;
  padding: 0;
  font-family: 'Roboto', sans-serif;
  font-size: 28px;
  font-weight: 500;
  line-height: 32px;
}

.gold {
        color : gold;
}

.cardBlock {
  display: block;
  border-bottom: 1px solid #e0e0e0 !important;
  padding: 2px;
}

paper-button.cancel {
  color: blue;
}

</style>
<template>
<!--    <section class="reviewHeader">
      <paper-icon-button class="reviewCloseButton" icon="icons:close"></paper-icon-button>
      <h1>Rate this item</h1>
      <h3>Games: The Google advantageGames: The Google advantageGames: The Google advantageGames: The Google advantage</h3>
      <h5>by Noah Falstein, Ben Frenkel and Ina Fuchs</h5>
    </section>
-->
    <section class="reviewContent">
      <div class="cardBlock">
        <label>Your Rating:</label>
        <ml4u-stars selected-rating="{{selectedRating}}"></ml4u-stars>
      </div>
      <div class="cardBlock">
        <paper-textarea label="Your comments."></paper-textarea>
      </div>
    </section>
    <div>
      <paper-button on-tap="_onCancelButtonTapped" class="cancel">cancel</paper-button>
      <paper-button id="submitReviewButton" disabled class="disabled">submit</paper-button>
    </div>
</template>

<script>
  Polymer({
    is: 'ml4u-item-review',
    properties: {
      selectedRating: {
        type: Number,
        value: 0,
        observer: '_onSelectedRatingChanged'
      },
      displayRateItemButton: {
        type: Boolean,
        notify: true
      },
      isHidden: {
        type: Boolean,
        notify: true
      }
    },
    _onSelectedRatingChanged: function(newValue) {
      //console.log("_onSelectedRatingChanged called");
      if(newValue != 0)
        this.$.submitReviewButton.disabled = false;
    },
    _onCancelButtonTapped: function() {
      this.displayRateItemButton = true;
    },

    ready: function() {
      //console.log("ml4u-item-review ready called");
    }

  });
</script>
</dom-module>
