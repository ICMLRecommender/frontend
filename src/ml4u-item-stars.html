<link rel="import" href="../bower_components/polymer/polymer.html">

<dom-module id="ml4u-stars">

<style is="custom-style">

.gold {
        color : gold;
}

</style>
<template>
  <span id="starsSpan">
    <paper-icon-button id="1" noink class="" icon="star" disabled="{{disabled}}" on-tap="starButtonTapped"></paper-icon-button>
    <paper-icon-button id="2" noink class="" icon="star" disabled="{{disabled}}" on-tap="starButtonTapped"></paper-icon-button>
    <paper-icon-button id="3" noink class="" icon="star" disabled="{{disabled}}" on-tap="starButtonTapped"></paper-icon-button>
    <paper-icon-button id="4" noink class="" icon="star" disabled="{{disabled}}" on-tap="starButtonTapped"></paper-icon-button>
    <paper-icon-button id="5" noink class="" icon="star" disabled="{{disabled}}" on-tap="starButtonTapped"></paper-icon-button>
  </span>
</template>

  <script>
  Polymer({
    is: 'ml4u-stars',
    properties: {
      selectedRating: {
        type: Number,
        notify: true,
        observer: '_selectedRatingChanged'
      },
      totalStars: {
        type: Number,
        value: 5
      },
      disabled: Boolean
    },
    _selectedRatingChanged: function(newSelectedRating) {
      var starsSpan = this.$.starsSpan;
      var starsSpanChildren = starsSpan.children;
      for(var a=0; a < starsSpanChildren.length; a++) {
        if(a < this.selectedRating) {
          starsSpanChildren[a].setAttribute('class', 'gold');
        }
        else {
          starsSpanChildren[a].setAttribute('class', '');
        }
      }

      //console.log(starsSpan);
      //console.log(starsSpan.children);
      //console.log(starsSpan.childNodes);
    },
    starButtonTapped: function(oEvent) {
      //console.log("starButtonTapped called");
      //console.log(oEvent);
      //console.log(oEvent.model);
      //console.log(oEvent.target.id);

      this.selectedRating = oEvent.target.id;


    }
    /*,
    _updateRate: function (ratingClass, ratingContainer) {
      console.log("updateRate called");
      var curRate = this.$.userRating.getAttribute('rate');
      var totRate = this.$.userRating.getAttribute('stars');
      var disRate = curRate+'/'+totRate;
      console.log("curRate= " + curRate);
      console.log("totRare= " + totRate);
      console.log("disRate= " + disRate);
      console.log(this.$.userRating);
      this.$.userRating.innerHTML = disRate;

//      var curRate = document.querySelector('.'+ratingClass).getAttribute('rate'),
//          totRate = document.querySelector('.'+ratingClass).getAttribute('stars'),
//          disRate = curRate+'/'+totRate;

//      document.querySelector('.'+ratingContainer).innerHTML = disRate;
    }*/
  });
  </script>
</dom-module>
